#pragma checksum "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6e65c7b748a1d92f1f38c34175abbd8bc3c27f36"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_CrispyAdminData_Index), @"mvc.1.0.view", @"/Views/CrispyAdminData/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 2 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using NonFactors.Mvc.Grid;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using System.Linq.Expressions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using Microsoft.EntityFrameworkCore;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using System.Collections.Generic;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using System.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using Taigate.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using Taigate.Core.Attributes;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using System.Linq.Dynamic.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
using Taigate.Data.Data.Entities.Base;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"6e65c7b748a1d92f1f38c34175abbd8bc3c27f36", @"/Views/CrispyAdminData/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"23ac09be4bcfaa7f9829a01d1a134874eaae1f3b", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_CrispyAdminData_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Taigate.Crispy.ViewModels.DataListViewModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
            WriteLiteral("\r\n");
#nullable restore
#line 14 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
  
    ViewData["Title"] = Model.DbSetProperty.Name;
    Layout = "_CrispyAdminLayout";
    List<object> list = new List<object>();
    list = Model.Data.ToList();

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""card"">
  <div class=""col-xl-12 xl-50 appointment-sec box-col-6"">
   <div class=""row""> 
     <div class=""col-xl-12 appointment"">
       <div class=""card"">
         <div class=""card-header card-no-border"">
           <div class=""header-top"">
             <h5 class=""m-0"">");
#nullable restore
#line 28 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
                        Write(Model.DbSetProperty.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h5>\r\n             <div class=\"card-header-right-icon\">\r\n                 <a class=\"btn-download btn btn-gradient f-w-500\"");
            BeginWriteAttribute("href", " href=\"", 963, "\"", 1020, 2);
            WriteAttributeValue("", 970, "/CrispyAdmin/data/create/", 970, 25, true);
#nullable restore
#line 30 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
WriteAttributeValue("", 995, Model.DbSetProperty.Name, 995, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-original-title=\"\"");
            BeginWriteAttribute("title", " title=\"", 1044, "\"", 1052, 0);
            EndWriteAttribute();
            WriteLiteral(">Create new</a>\r\n             </div>\r\n           </div>\r\n         </div>\r\n         <div class=\"card-body pt-0\">\r\n           <div class=\"appointment-table table-responsive\">\r\n                  ");
#nullable restore
#line 36 "D:\_LoveProject\gazi-koylu-back-end\taigateonline\Taigate.Crispy\Views\CrispyAdminData\Index.cshtml"
              Write(Html
                      .Grid(list)
                      .Build((columns) =>
                      {
                          // only supports single PKs, not composite ones
                          var pkProperties = Model.DbContext.Model.FindEntityType(Model.EntityType).FindPrimaryKey().Properties;
                          var fkProperties = Model.DbContext.Model.FindEntityType(Model.EntityType).GetReferencingForeignKeys();
                          if (pkProperties.Count == 1)
                          {
                              var pKProperty = pkProperties.Single()?.PropertyInfo;
                   
                              if (pKProperty != null)
                              {
                                  columns.Add(item => "<a class='btn btn-primary' href='" + @Url.Action("EditEntity", new {dbSetName = Model.DbSetProperty.Name, Id = pKProperty.GetValue(item)}) + "'><i data-feather='edit'></i></a>").Encoded(false).Titled("Controls");
                              }
                          }
                   
                          foreach (var entityProperty in Model.EntityType.GetProperties())
                          {
                              ParameterExpression entity = Expression.Parameter(typeof(object), "ent");
                              var changedType = Expression.Convert(entity, Model.EntityType);
                              var property = Expression.Property(changedType, entityProperty.Name);
                              EditorType type = AttributeHelper.GetEditorType(entityProperty);
                              DropdownModel dropdownModel = AttributeHelper.GetDropdown(entityProperty);
                              if (dropdownModel!=null)
                              {
                              }
                              switch (type)
                              {
                                  case EditorType.SingleText:
                                      columns.Add(Expression.Lambda<Func<object, string>>(property, entity)).Titled(entityProperty.Name);
                                      break;
                                  case EditorType.RichTinyMCE:
                                      columns.Add(Expression.Lambda<Func<object, string>>(property, entity)).Titled(entityProperty.Name);
                                      break;
                                  case EditorType.Datetime:
                                      columns.Add(Expression.Lambda<Func<object, DateTime>>(property, entity)).Titled(entityProperty.Name);
                                      break;
                                  case EditorType.Number:
                                      columns.Add(Expression.Lambda<Func<object, Int32>>(property, entity)).Titled(entityProperty.Name);
                                      break;
                                  case EditorType.Dropdown:
                                      var item = Expression.Parameter(typeof(object), "enteee");
                                      var changedTypex = Expression.Convert(item, Model.EntityType);
                   
                                      var dataExpr = Expression.Property(changedTypex, dropdownModel.Table);
                   
                                      var prop = Expression.Property(dataExpr, dropdownModel.ValueField);
                   
                                      // var soap = Expression.Constant("Soap");
                                      //
                                      // var equal = Expression.Equal(prop, soap);
                   
                                      var lambdax = Expression.Lambda<Func<object, string>>(prop, item);
                   
                                      columns.Add(lambdax).Titled(entityProperty.Name);
                   
                                      break;
                                  default:
                                      if (entityProperty.PropertyType == typeof(Int32))
                                      {
                                          var returnTarget = Expression.Label(typeof(Int32));
                                          var lambda = Expression.Lambda<Func<object, Int32>>(property, entity);
                                          columns.Add(lambda).Titled(entityProperty.Name);
                                      }
                                      break;
                              }
                          }
                          if (pkProperties.Count == 1)
                          {
                              var pKProperty = pkProperties.Single()?.PropertyInfo;
                   
                              if (pKProperty != null)
                              {
                                  columns.Add(item => "<a class='btn btn-danger' href='" + @Url.Action("DeleteEntity", new {dbSetName = Model.DbSetProperty.Name, Id = pKProperty.GetValue(item)}) + "'><i data-feather='trash'></i></a>").Encoded(false).Titled("Controls");
                              }
                          }
                      }
                      )
                      .Using(GridFilterMode.Header)
                      .Empty("No data found")
                      .Filterable()
                      .Sortable()
                      .Pageable()
                  );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   </div>\r\n </div>    \r\n</div>\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral("\r\n    <script>\r\n           document.querySelectorAll(\".mvc-grid\").forEach(element => new MvcGrid(element));\r\n    </script>\r\n");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Taigate.Crispy.ViewModels.DataListViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
